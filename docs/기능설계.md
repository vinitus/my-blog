# 1. 마크다운 기능

글 작성을 어떻게 구현할 것인가 -> 우선, 주 기능 중 하나인 markdown 작성을 목표

markdown 에디터를 구현해야할 듯하다가, remark라는 라이브러리를 사용하기로 했다. <<< 에디터보다는 뷰어가 맞을 것 같다.

글을 불러오는 것은, 일단 임시로 API route에서 markdown을 읽어오는 것으로 한다.

API route를 만들어서, public의 마크다운 파일을 읽어오고, 문자열 그 자체로 textarea에 렌더링하고, 미리보기 기능을 한번 해보기

미리보기를 어떻게 구현해야할까? 이 미리보기 기능에 접근하기 위해서는 2가지 방법이 있어야한다고 생각한다. 첫번째는 우클릭을 누르면 뜨는 복사, 붙여넣기 등의 기본 메뉴들에서 "미리보기"라는 탭을 만들고, 이를 통해서 아래쪽이나 우측에 미리보기를 할 수 있어야 하겠다.
두번째는, Ctrl + 방향키를 통해서 해당 방향에 미리보기 기능이 있는 컴포넌트를 생성할 수 있어야한다.

미리보기는 직접 마크다운을 파싱하던가, 라이브러리를 통해서 렌더링하는 것이 효율적인 것 같긴하다.

문제는 이 컴포넌트를 어떤 단계에서 만들어야할 것인가 이라고 생각한다.
그리고 global page 컴포넌트에서 어떤 세그먼트로 옮겨야할까?
-> 지금 MarkdownForm 컴포넌트를 렌더링해줄 곳을 /markdown/editor로 옮겨야 겠다.

**8월 23일**

결국, 마크다운 에디터는 textarea로 하고, 프리뷰도 내 힘으로 만들기로 했다.

우선 생각해야하는 것

1. #, ## 같은 제목 태그에 대한 문제

나는 이상적인 마크다운은 깃허브의 마크다운 양식이라고 생각한다. 깃허브에서 이것저것 실험해봤는데,

```javascript
# 1

## 2

### 3

#### 4

##### 5

###### 6
```

이 결과는,

```javascript
# 1

## 2
### 3

#### 4
##### 5


###### 6
```

를 파싱한 결과와 같다. **깃허브의 마크다운 파싱 제목태그에 대한 규칙 중 하나는 다음의 공백은 의미없는 공백이어야 한다.**

```javascript
function markdownParser(str) {
  // str에서 첫 문자가 #으로 시작한다면이라는 조건문
  //   #이 1개라면 h1, 2개면 h2...
  //   spacebar이나 \를 만나기 전까지의 숫자를 세고 해당하는 제목 태그로 설정
}
```

이런식으로 가야하지 않을까
